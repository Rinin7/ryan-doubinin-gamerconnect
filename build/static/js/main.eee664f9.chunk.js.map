{"version":3,"sources":["config/Fire.js","components/ActivityList/ActivityList.jsx","components/GameList/GameList.jsx","Pages/Home/Home.jsx","Pages/CreateActivity/CreateActivity.jsx","Pages/Login/Login.jsx","Pages/ViewActivity/ViewActivity.jsx","Pages/EditActivity/EditActivity.jsx","Pages/MyActivities/MyActivities.jsx","Pages/Signup/Signup.jsx","components/Header/Header.jsx","components/App.js","index.js"],"names":["fire","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","ActivityList","activityList","games","username","id","selectedGame","host","skill","timestamp","description","mmr","renderSelectedGame","length","current","find","game","title","className","src","imageUrl","useEffect","displayMmr","GameList","gameList","clickGamesHandler","onClick","Home","useState","setGames","activities","setActivities","db","firestore","searchTerm","setSearchTerm","clickedGames","setClickedGames","collection","orderBy","get","then","querySnapshot","items","docs","map","doc","data","onSnapshot","posts","forEach","push","timeSince","seconds","where","date","difference","Date","now","num","hour","day","week","month","year","Math","floor","type","placeholder","onChange","event","target","value","to","filter","val","toLowerCase","includes","activity","CreateActivity","user","history","useHistory","setSelectedGame","setSkill","setDescription","FieldValue","serverTimestamp","validationError","setValidationError","setMmr","avatar","setAvatar","persona","setPersona","steam","setSteam","steamError","setSteamError","apiError","setApiError","axios","res","solo_competitive_rank","profile","avatarmedium","personaname","catch","err","onSubmit","preventDefault","add","hostId","uid","console","log","htmlFor","name","sort","a","b","titleA","titleB","classname","alt","steamProfile","href","Login","emailRef","useRef","passwordRef","auth","signInWithEmailAndPassword","ref","ViewActivity","useParams","setActivity","messages","setMessages","newMessage","setNewMessage","activityJoined","setActivityJoined","joining","setJoining","limit","document","exists","delete","error","update","disabled","message","text","createdAt","EditActivity","undefined","toDate","edit__form-steam-avatar","MyActivities","Promise","all","responses","Signup","passwordConfirmRef","setUsername","createUserWithEmailAndPassword","set","Header","role","signOut","App","setUser","authListenerAdded","setAuthListenerAdded","PrivateRoute","Component","component","rest","render","props","localStorage","isAuthenticated","onAuthStateChanged","setItem","removeItem","documentSnapshot","path","exact","routerProps","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eee664f9.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\r\n  appId: process.env.REACT_APP_MESSAGING_APP_ID,\r\n};\r\n\r\nconst fire = firebase.initializeApp(config);\r\nexport default fire;\r\n","import React, { useEffect } from \"react\";\r\nimport \"./ActivityList.scss\";\r\n\r\nexport default function ActivityList({ activityList, games, username }) {\r\n  let { id, selectedGame, host, skill, timestamp, description, mmr } = activityList;\r\n\r\n  // FUNCTION TO RENDER GAMES\r\n  function renderSelectedGame() {\r\n    if (games && games.length !== 0 && selectedGame !== \"\") {\r\n      const current = games.find((game) => game.title === selectedGame);\r\n      return <img className=\"activitylist__image\" src={current.imageUrl} />;\r\n    }\r\n  }\r\n\r\n  // FUNCTION TO DISPLAY MMR\r\n  function displayMmr() {\r\n    if (mmr) {\r\n      return (\r\n        <div className=\"activitylist__dota\">\r\n          <h4 className=\"activitylist__dota-mmr\">Dota MMR: {mmr}</h4>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    renderSelectedGame();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={host !== username ? \"activitylist\" : \"activitylist-two\"} key={id}>\r\n      <div className=\"activitylist__info-container\">\r\n        <div className=\"activitylist__user-date\">\r\n          <h3 className=\"activitylist__host\">{host}</h3>\r\n          <div className=\"activitylist__info-secondary\">\r\n            <h4 className=\"activitylist__skill\">{skill}</h4>\r\n            <h4 className=\"activitylist__bullet\">•</h4>\r\n            <h4 className=\"activitylist__info\">{timestamp}</h4>\r\n          </div>\r\n        </div>\r\n        <div className=\"activitylist__description-container\">\r\n          <h4 className=\"activitylist__description\">{description}</h4>\r\n        </div>\r\n      </div>\r\n      <div className=\"activitylist__game-container\">\r\n        {renderSelectedGame()}\r\n        {displayMmr()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./GameList.scss\";\r\n\r\nexport default function GameList({ gameList, clickGamesHandler }) {\r\n  const { id, imageUrl, title } = gameList;\r\n\r\n  return (\r\n    <div\r\n      className=\"games__card\"\r\n      key={id}\r\n      id={title}\r\n      onClick={() => {\r\n        clickGamesHandler(title);\r\n      }}\r\n    >\r\n      <img className=\"games__image\" src={imageUrl} />\r\n      <h2 className=\"games__title\">{title}</h2>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./Home.scss\";\r\nimport fire from \"../../config/Fire\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ActivityList from \"../../components/ActivityList/ActivityList\";\r\nimport GameList from \"../../components/GameList/GameList\";\r\n\r\nfunction Home() {\r\n  const [games, setGames] = useState([]);\r\n  const [activities, setActivities] = useState([]);\r\n  const db = fire.firestore();\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [clickedGames, setClickedGames] = useState(\"All\");\r\n\r\n  // function allGamesFunction() {\r\n  //   let allGames = games.map((game) => game.title);\r\n  //   return allGames;\r\n  // }\r\n\r\n  // FUNCTION TO GET ALL ACTIVITIES AND USE SELECTED GAMES TO FILTER ACTIVITIES DISPLAYED\r\n  function getActivities() {\r\n    if (clickedGames === \"All\") {\r\n      return db\r\n        .collection(\"activities\")\r\n        .orderBy(\"timestamp\", \"desc\")\r\n        .onSnapshot((querySnapshot) => {\r\n          let posts = [];\r\n\r\n          querySnapshot.forEach((doc) => {\r\n            posts.push({\r\n              ...doc.data(),\r\n              timestamp: timeSince(doc.data().timestamp.seconds * 1000),\r\n              id: doc.id,\r\n            });\r\n          });\r\n          setActivities(posts);\r\n        });\r\n    } else {\r\n      return db\r\n        .collection(\"activities\")\r\n        .orderBy(\"timestamp\", \"desc\")\r\n        .where(\"selectedGame\", \"==\", clickedGames)\r\n        .onSnapshot((querySnapshot) => {\r\n          let posts = [];\r\n\r\n          querySnapshot.forEach((doc) => {\r\n            posts.push({\r\n              ...doc.data(),\r\n              timestamp: timeSince(doc.data().timestamp.seconds * 1000),\r\n              id: doc.id,\r\n            });\r\n          });\r\n          setActivities(posts);\r\n        });\r\n    }\r\n  }\r\n\r\n  // FUNCTION TO GET GAME COLLECTION DATA\r\n  function getGames() {\r\n    db.collection(\"games\")\r\n      .orderBy(\"title\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        const items = querySnapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id }));\r\n        setGames(items);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getGames();\r\n    return getActivities();\r\n  }, [clickedGames]);\r\n\r\n  // FUNCTION THAT HANDLES ONCLICK ON GAMES\r\n  const clickGamesHandler = (id) => {\r\n    setClickedGames(id);\r\n  };\r\n\r\n  // FUNCTION TO CHANGE TIMESTAMP TO \"TIME SINCE\" POSTED\r\n  const timeSince = (date) => {\r\n    let currentTime = Date.now();\r\n    let difference = currentTime - date;\r\n    let num = 0;\r\n\r\n    const minute = 60000;\r\n    const hour = 3600000;\r\n    const day = 86400000;\r\n    const week = 604800000;\r\n    const month = 2592000000;\r\n    const year = 31556952000;\r\n\r\n    const timeBeforeNow = \"moments ago\";\r\n\r\n    if (difference < minute) {\r\n      return timeBeforeNow;\r\n    } else if (difference < hour) {\r\n      num = Math.floor(difference / minute);\r\n      return num === 1 ? `${num} min ago` : `${num} mins ago`;\r\n    } else if (difference < day) {\r\n      num = Math.floor(difference / hour);\r\n      return num === 1 ? `${num} hour ago` : `${num} hours ago`;\r\n    } else if (difference < week) {\r\n      num = Math.floor(difference / day);\r\n      return num === 1 ? `${num} day ago` : `${num} days ago`;\r\n    } else if (difference < month) {\r\n      num = Math.floor(difference / week);\r\n      return num === 1 ? `${num} week ago` : `${num} weeks ago`;\r\n    } else if (difference < year) {\r\n      num = Math.floor(difference / month);\r\n      return num === 1 ? `${num} month ago` : `${num} months ago`;\r\n    } else if (difference > year) {\r\n      num = Math.floor(difference / year);\r\n      return num === 1 ? `${num} year ago` : `${num} years ago`;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"home__utility\">\r\n        <input\r\n          className=\"home__search\"\r\n          type=\"text\"\r\n          placeholder=\"Search...\"\r\n          onChange={(event) => {\r\n            setSearchTerm(event.target.value);\r\n          }}\r\n        />\r\n        <Link to=\"/create\">\r\n          <button className=\"home__create-button\">+</button>\r\n        </Link>\r\n      </div>\r\n      <div className=\"home__gamelist\">\r\n        {games\r\n          .filter((val) => {\r\n            if (searchTerm === \"\") {\r\n              return val;\r\n            } else if (val.title.toLowerCase().includes(searchTerm.toLowerCase())) {\r\n              return val;\r\n            }\r\n          })\r\n          .map((game) => (\r\n            <GameList key={game.id} gameList={game} clickGamesHandler={clickGamesHandler} />\r\n          ))}\r\n      </div>\r\n      <h1 className=\"home__posts-header\">\r\n        {clickedGames} - {activities.length} posts\r\n      </h1>\r\n      <div className=\"home__feed\">\r\n        {activities.map((activity) => (\r\n          <Link className=\"home__activitylist-link\" to={`/activities/${activity.id}`}>\r\n            <ActivityList key={activity.id} activityList={activity} timeSince={timeSince} games={games} />\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport fire from \"../../config/Fire\";\r\nimport firebase from \"firebase\";\r\nimport \"./CreateActivity.scss\";\r\nimport axios from \"axios\";\r\n\r\nexport default function CreateActivity({ user, username }) {\r\n  const db = fire.firestore();\r\n  const history = useHistory();\r\n  const [games, setGames] = useState([]);\r\n  const [selectedGame, setSelectedGame] = useState(\"\");\r\n  const [skill, setSkill] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const timestamp = firebase.firestore.FieldValue.serverTimestamp();\r\n  const [validationError, setValidationError] = useState(\"\");\r\n  const [mmr, setMmr] = useState(\"\");\r\n  const [avatar, setAvatar] = useState(\"\");\r\n  const [persona, setPersona] = useState(\"\");\r\n  const [steam, setSteam] = useState(\"\");\r\n  const [steamError, setSteamError] = useState(\"\");\r\n  const [apiError, setApiError] = useState(false);\r\n\r\n  // FUNCTION TO DISPLAY STEAM PROFILE INFO\r\n  function steamProfile() {\r\n    if (mmr) {\r\n      return (\r\n        <div className=\"create__form-steam\">\r\n          <img classname=\"create__form-steam-avatar\" src={avatar} alt=\"steam avatar\" />\r\n          <div className=\"create__form-steam-info\">\r\n            <p className=\"create__form-steam-username\">Steam Username: {persona}</p>\r\n            <p className=\"create__form-steam-mmr\">Dota MMR: {mmr}</p>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  // FUNCTION TO ADD NEW ACTIVITY\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (selectedGame === \"\") {\r\n      return setValidationError(\"Please select a game\");\r\n    }\r\n\r\n    if (skill === \"\") {\r\n      return setValidationError(\"Please choose a skill level\");\r\n    }\r\n\r\n    if (description === \"\") {\r\n      return setValidationError(\"Please provide a brief description\");\r\n    }\r\n\r\n    if (steam.length >= 1 && steam.length !== 8) {\r\n      setApiError(false);\r\n      return setValidationError(\"Steam ID requires 8 digits\");\r\n    }\r\n\r\n    if (apiError === true) {\r\n      return setValidationError(\"Unable to find Steam profile. Invalid Steam ID.\");\r\n    }\r\n\r\n    db.collection(\"activities\")\r\n      .add({ skill, description, timestamp, selectedGame, host: username, hostId: user.uid, mmr, avatar, persona, steam })\r\n      .then((res) => {\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  // FUNCTION TO GET GAMES COLLECTION DATA\r\n  function getGames() {\r\n    db.collection(\"games\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        const items = querySnapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id }));\r\n        setGames(items);\r\n      });\r\n  }\r\n\r\n  // FUNCTION TO RENDER A GAME PICTURE BASED ON GAME SELECTED IN DROP DOWN MENU\r\n  function renderSelectedGame() {\r\n    if (selectedGame !== \"\") {\r\n      const current = games.find((game) => game.title === selectedGame);\r\n      return <img className=\"create__form-image\" src={current.imageUrl} />;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Axios call to OpenDOTA API\r\n    if (steam.length === 8) {\r\n      axios\r\n        .get(`https://api.opendota.com/api/players/${steam}/`)\r\n        .then((res) => {\r\n          setMmr(res.data.solo_competitive_rank);\r\n          setAvatar(res.data.profile.avatarmedium);\r\n          setPersona(res.data.profile.personaname);\r\n          setApiError(false);\r\n        })\r\n        .catch((err) => {\r\n          setApiError(true);\r\n          setSteamError(\"Unable to find Steam profile. Invalid Steam ID.\");\r\n        });\r\n    } else {\r\n      setMmr(\"\");\r\n      setAvatar(\"\");\r\n      setPersona(\"\");\r\n    }\r\n\r\n    if (games.length === 0) {\r\n      getGames();\r\n    }\r\n  }, [steam]);\r\n\r\n  const handleSteamChange = (event) => {\r\n    setSteam(event.target.value);\r\n    if (!event.target.value) {\r\n      setApiError(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"create\">\r\n        <div className=\"create__header-container\">\r\n          <h1 className=\"create__header\">Create Activity</h1>\r\n        </div>\r\n        <form className=\"create__form\" onSubmit={handleSubmit}>\r\n          <div className=\"create__form-container\">\r\n            <label className=\"create__form-label\" htmlFor=\"game\">\r\n              Game\r\n            </label>\r\n            <div className=\"create__form-game-line\">\r\n              {renderSelectedGame()}\r\n              <select className=\"create__form-select\" value={selectedGame} onChange={(event) => setSelectedGame(event.target.value)} name=\"game\" id=\"game\">\r\n                <option value=\"\">Please select...</option>\r\n                {games\r\n                  .filter((game) => (game.title.includes(\"All\") ? \"\" : game.title))\r\n                  .sort(function (a, b) {\r\n                    var titleA = a.title;\r\n                    var titleB = b.title;\r\n                    if (titleA < titleB) {\r\n                      return -1;\r\n                    }\r\n                    if (titleA > titleB) {\r\n                      return 1;\r\n                    }\r\n                    return 0;\r\n                  })\r\n                  .map((game) => (\r\n                    <>\r\n                      <option value={game.title} key={game.id}>\r\n                        {game.title}\r\n                      </option>\r\n                    </>\r\n                  ))}\r\n              </select>\r\n            </div>\r\n            {selectedGame === \"Dota 2\" ? (\r\n              <div className=\"create__form-dota\">\r\n                <label className=\"create__form-label\" htmlFor=\"steam\">\r\n                  Steam ID\r\n                </label>\r\n                <input className=\"create__form-dota-input\" type=\"text\" id=\"steam\" name=\"steam\" onChange={handleSteamChange} placeholder=\"Enter your Steam ID to display your MMR (not required)\" />\r\n                <p className=\"create__form-steam-error\">{steamError}</p>\r\n              </div>\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            {steamProfile()}\r\n            <label className=\"create__form-label\" htmlFor=\"skill\">\r\n              Skill\r\n            </label>\r\n            <select className=\"create__form-select\" onChange={(event) => setSkill(event.target.value)} id=\"skill\" name=\"skill\">\r\n              <option value=\"\">Please select...</option>\r\n              <option value=\"Learning\">Learning</option>\r\n              <option value=\"Advanced\">Advanced</option>\r\n              <option value=\"Pro\">Pro</option>\r\n            </select>\r\n\r\n            <label className=\"create__form-label\" htmlFor=\"description\">\r\n              Description\r\n            </label>\r\n            <textarea\r\n              className=\"create__form-input\"\r\n              type=\"text\"\r\n              id=\"description\"\r\n              name=\"description\"\r\n              onChange={(event) => setDescription(event.target.value)}\r\n              placeholder=\"Enter a description here...\"\r\n            />\r\n          </div>\r\n          {/* </div> */}\r\n          <div className=\"create__form-error-container\">\r\n            <p className=\"create__form-error\">{validationError}</p>\r\n          </div>\r\n          <div className=\"create__button-container\">\r\n            <button className=\"create__button-submit\" type=\"submit\">\r\n              SUBMIT\r\n            </button>\r\n            <a href=\"/\" className=\"create__button-cancel\">\r\n              CANCEL\r\n            </a>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport \"./Login.scss\";\r\nimport fire from \"../../config/Fire\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Login() {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const history = useHistory();\r\n  const [validationError, setValidationError] = useState(\"\");\r\n\r\n  // FUNCTION TO LOG IN\r\n  async function login(event) {\r\n    event.preventDefault();\r\n    try {\r\n      await fire.auth().signInWithEmailAndPassword(emailRef.current.value, passwordRef.current.value);\r\n      history.push(\"/\");\r\n    } catch {\r\n      setValidationError(\"Failed to log in\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"login\">\r\n      <form className=\"login__form\">\r\n        <h1 className=\"login__header\">Log In</h1>\r\n        <label className=\"login__form-title\" htmlFor=\"email\">\r\n          Email\r\n        </label>\r\n        <input className=\"login__form-input\" type=\"email\" id=\"email\" name=\"email\" placeholder=\"Enter your email\" ref={emailRef} />\r\n        <label className=\"login__form-title\" htmlFor=\"password\">\r\n          Password\r\n        </label>\r\n        <input className=\"login__form-input\" type=\"password\" id=\"password\" name=\"password\" placeholder=\"Enter your password\" ref={passwordRef} />\r\n        <div className=\"login__form-error-container\">\r\n          <p className=\"login__form-error\">{validationError}</p>\r\n        </div>\r\n        <button className=\"login__form-submit\" type=\"submit\" onClick={login}>\r\n          Log In\r\n        </button>\r\n      </form>\r\n      <div className=\"login__redirect\">\r\n        <p>\r\n          Don't have an account?{\" \"}\r\n          <a className=\"login__signup-link\" href=\"/signup\">\r\n            Sign Up Here.\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport fire from \"../../config/Fire\";\r\nimport firebase from \"firebase\";\r\nimport \"./ViewActivity.scss\";\r\n\r\nexport default function ViewActivity({ user, username }) {\r\n  const { id } = useParams();\r\n  const db = fire.firestore();\r\n  const [activity, setActivity] = useState([]);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const [activityJoined, setActivityJoined] = useState(false);\r\n  const [joining, setJoining] = useState(false);\r\n  const [games, setGames] = useState([]);\r\n  const history = useHistory();\r\n\r\n  // GET FUNCTION TO PULL THE FIELDS OF THE REQUESTED ACTIVITY\r\n  const getActivity = () => {\r\n    return db.doc(`activities/${id}`).onSnapshot((document) => {\r\n      if (document.exists) {\r\n        setActivity({ ...document.data(), timestamp: timeSince(document.data().timestamp.seconds * 1000) });\r\n        setActivityJoined(!!document.data()[user.uid]);\r\n      }\r\n    });\r\n  };\r\n\r\n  // FUNCTION TO CHANGE TIMESTAMP\r\n  const timeSince = (date) => {\r\n    let currentTime = Date.now();\r\n    let difference = currentTime - date;\r\n    let num = 0;\r\n\r\n    const minute = 60000;\r\n    const hour = 3600000;\r\n    const day = 86400000;\r\n    const week = 604800000;\r\n    const month = 2592000000;\r\n    const year = 31556952000;\r\n\r\n    const timeBeforeNow = \"moments ago\";\r\n\r\n    if (difference < minute) {\r\n      return timeBeforeNow;\r\n    } else if (difference < hour) {\r\n      num = Math.floor(difference / minute);\r\n      return num === 1 ? `${num} min ago` : `${num} mins ago`;\r\n    } else if (difference < day) {\r\n      num = Math.floor(difference / hour);\r\n      return num === 1 ? `${num} hour ago` : `${num} hours ago`;\r\n    } else if (difference < week) {\r\n      num = Math.floor(difference / day);\r\n      return num === 1 ? `${num} day ago` : `${num} days ago`;\r\n    } else if (difference < month) {\r\n      num = Math.floor(difference / week);\r\n      return num === 1 ? `${num} week ago` : `${num} weeks ago`;\r\n    } else if (difference < year) {\r\n      num = Math.floor(difference / month);\r\n      return num === 1 ? `${num} month ago` : `${num} months ago`;\r\n    } else if (difference > year) {\r\n      num = Math.floor(difference / year);\r\n      return num === 1 ? `${num} year ago` : `${num} years ago`;\r\n    }\r\n  };\r\n\r\n  // FUNCTION TO GET GAMES COLLECTION DATA\r\n  function getGames() {\r\n    db.collection(\"games\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        const items = querySnapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id }));\r\n        setGames(items);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getGames();\r\n  }, []);\r\n\r\n  // FUNCTION TO GET MESSAGES\r\n  const getMessages = () => {\r\n    return db\r\n      .doc(`activities/${id}`)\r\n      .collection(\"messages\")\r\n      .orderBy(\"createdAt\")\r\n      .limit(100)\r\n      .onSnapshot((querySnapshot) => {\r\n        const data = querySnapshot.docs.map((doc) => ({\r\n          ...doc.data(),\r\n          id: doc.id,\r\n        }));\r\n        setMessages(data);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const messages = getMessages();\r\n      const activity = getActivity();\r\n\r\n      const unsubscribe = () => {\r\n        messages();\r\n        activity();\r\n      };\r\n      return unsubscribe;\r\n    }\r\n  }, []);\r\n\r\n  // CHANGE HANDLER FOR NEW MESSAGES\r\n  const handleOnChange = (event) => {\r\n    setNewMessage(event.target.value);\r\n  };\r\n\r\n  // SUBMIT HANDLER TO CREATE A NEW MESSAGE\r\n  const handleOnSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    db.doc(`activities/${id}`).collection(\"messages\").add({\r\n      text: newMessage,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n      username,\r\n    });\r\n    setNewMessage(\"\");\r\n  };\r\n\r\n  // DELETE FUNCTION\r\n  function deleteActivity() {\r\n    db.collection(\"activities\")\r\n      .doc(id)\r\n      .delete()\r\n      .then((res) => {\r\n        history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  // JOIN LOBBY FUNCTION\r\n  function joinLobbyHandler() {\r\n    setJoining(true);\r\n    db.collection(\"activities\")\r\n      .doc(id)\r\n      .update({ [user.uid]: true })\r\n      .then((res) => {\r\n        setJoining(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  // LEAVE LOBBY FUNCTION\r\n  function leaveLobbyHandler() {\r\n    setJoining(true);\r\n    db.collection(\"activities\")\r\n      .doc(id)\r\n      .update({ [user.uid]: false })\r\n      .then((res) => {\r\n        setJoining(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  // FUNCTION THAT INFORMS NON-HOST USER THEY ARE IN THE LOBBY\r\n  function joined() {\r\n    if (user.uid === activity.hostId) {\r\n      return;\r\n    } else {\r\n      return activityJoined ? <div>{username} has joined the lobby.</div> : \"\";\r\n    }\r\n  }\r\n\r\n  // FUNCTION THAT WILL DISPLAY JOIN/LEAVE LOBBY BUTTON FOR NON-HOST\r\n  function lobbyButton() {\r\n    if (user.uid === activity.hostId) {\r\n      return;\r\n    } else {\r\n      return activity[user.uid] !== true ? (\r\n        <button className=\"view__button-join\" onClick={() => joinLobbyHandler(activity)} disabled={joining}>\r\n          Join Lobby\r\n        </button>\r\n      ) : (\r\n        <button className=\"view__button-leave\" onClick={() => leaveLobbyHandler(activity)} disabled={joining}>\r\n          Leave Lobby\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  // FUNCTION TO RENDER GAME IMAGE BASED ON SELECTED GAME\r\n  function renderSelectedGame() {\r\n    if (games && games.length !== 0 && activity.length !== 0 && activity.selectedGame !== \"\") {\r\n      const current = games.find((game) => game.title === activity.selectedGame);\r\n\r\n      return <img className=\"activitylist__image\" src={current.imageUrl} />;\r\n    }\r\n  }\r\n\r\n  // FUNCTION TO DISPLAY MMR\r\n  function displayMmr() {\r\n    if (activity.mmr) {\r\n      return (\r\n        <div className=\"view__dota\">\r\n          <h4 className=\"view__dota-mmr\">Dota MMR: {activity.mmr}</h4>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    renderSelectedGame();\r\n  }, []);\r\n\r\n  if (!user) {\r\n    return <div></div>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"view\">\r\n        <div className=\"view__header-container\">\r\n          <h1 className=\"view__header\">View Activity</h1>\r\n        </div>\r\n        <div className=\"view__activitylist\" key={id}>\r\n          <div className=\"view__info-container\">\r\n            <div className=\"view__user-date\">\r\n              <h3 className=\"view__host\">{activity.host}</h3>\r\n              <div className=\"view__info-secondary\">\r\n                <h5 className=\"view__skill\">{activity.skill}</h5>\r\n                <h4 className=\"view__bullet\">•</h4>\r\n                <h5 className=\"view__info\">{activity.timestamp}</h5>\r\n              </div>\r\n            </div>\r\n            <div className=\"view__description-container\">\r\n              <h4 className=\"view__description\">{activity.description}</h4>\r\n            </div>\r\n          </div>\r\n          <div className=\"view__game-container\">\r\n            {renderSelectedGame()}\r\n            {displayMmr()}\r\n          </div>\r\n        </div>\r\n        {joined()}\r\n      </div>\r\n      <div className=\"view__button-container\">\r\n        {activity.hostId === user.uid ? (\r\n          <Link to={`/activities/${id}/edit`}>\r\n            <button className=\"view__button-edit\">EDIT</button>\r\n          </Link>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {activity.hostId === user.uid ? (\r\n          <button className=\"view__button-delete\" onClick={() => deleteActivity(activity)}>\r\n            DELETE\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {lobbyButton()}\r\n      </div>\r\n      {activity.hostId === user.uid || activity[user.uid] ? (\r\n        <>\r\n          <div className=\"view__header-container\">\r\n            <h2 className=\"view__header view__header-conversation\">Conversation</h2>\r\n          </div>\r\n          <div className=\"view__chat\">\r\n            <ul className=\"view__chat-boxes\">\r\n              {messages.map((message) => (\r\n                <li className={message.username === username ? \"view__sent\" : \"view__received\"} key={message.id}>\r\n                  {message.username}: {message.text}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <form className=\"view__form\" onSubmit={handleOnSubmit}>\r\n              <input className=\"view__form-input\" type=\"text\" value={newMessage} onChange={handleOnChange} placeholder=\"Chat with the lobby here...\" />\r\n\r\n              <button className=\"view__form-send\" type=\"submit\" disabled={!newMessage}>\r\n                Send\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport fire from \"../../config/Fire\";\r\nimport firebase from \"firebase\";\r\nimport \"./EditActivity.scss\";\r\nimport axios from \"axios\";\r\n\r\nexport default function EditActivity() {\r\n  const { id } = useParams();\r\n  const db = fire.firestore();\r\n  const [activity, setActivity] = useState(undefined);\r\n  const [games, setGames] = useState([]);\r\n  const [selectedGame, setSelectedGame] = useState(\"\");\r\n  const [skill, setSkill] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [validationError, setValidationError] = useState(\"\");\r\n  const [mmr, setMmr] = useState(\"\");\r\n  const [avatar, setAvatar] = useState(\"\");\r\n  const [persona, setPersona] = useState(\"\");\r\n  const [steam, setSteam] = useState(\"\");\r\n  const [steamError, setSteamError] = useState(\"\");\r\n  const [apiError, setApiError] = useState(false);\r\n  const ref = firebase.firestore().collection(\"activities\");\r\n  const history = useHistory();\r\n\r\n  // FUNCTION TO DISPLAY STEAM PROFILE INFO\r\n  function steamProfile() {\r\n    if (steam && selectedGame === \"Dota 2\") {\r\n      return (\r\n        <div className=\"edit__form-steam\">\r\n          <img edit__form-steam-avatar src={avatar} />\r\n          <div className=\"edit__form-steam-info\">\r\n            <p className=\"edit__form-steam-username\">Steam Username: {persona}</p>\r\n            <p className=\"edit__form-steam-mmr\">Dota MMR: {mmr}</p>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  // GET FUNCTION TO PULL THE FIELDS OF THE REQUESTED ACTIVITY\r\n  function getActivity() {\r\n    db.doc(`activities/${id}`)\r\n      .get()\r\n      .then((document) => {\r\n        setActivity({ ...document.data(), timestamp: document.data().timestamp.toDate() });\r\n        setDescription(document.data().description);\r\n        setSkill(document.data().skill);\r\n        setSelectedGame(document.data().selectedGame);\r\n        setMmr(document.data().mmr);\r\n        setSteam(document.data().steam);\r\n      })\r\n      .catch((error) => {\r\n        console.log(`Error getting documents: ${error}`);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Axios call to OpenDOTA API\r\n    if (steam && steam.length === 8) {\r\n      axios\r\n        .get(`https://api.opendota.com/api/players/${steam}/`)\r\n        .then((res) => {\r\n          setMmr(res.data.solo_competitive_rank);\r\n          setAvatar(res.data.profile.avatarmedium);\r\n          setPersona(res.data.profile.personaname);\r\n          setApiError(false);\r\n        })\r\n        .catch((err) => {\r\n          setSteamError(\"Unable to find Steam profile. Invalid Steam ID.\");\r\n          setApiError(true);\r\n        });\r\n    } else {\r\n      setMmr(\"\");\r\n      setAvatar(\"\");\r\n      setPersona(\"\");\r\n    }\r\n\r\n    if (!activity) {\r\n      getActivity();\r\n    }\r\n  }, [steam]);\r\n\r\n  // GET FUNCTION TO PULL THE FIELDS OF THE REQUESTED ACTIVITY\r\n  function getGames() {\r\n    db.collection(\"games\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        const items = querySnapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id }));\r\n        setGames(items);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (games.length === 0) {\r\n      getGames();\r\n    }\r\n  }, []);\r\n\r\n  // EDIT FUNCTION\r\n  function editActivity(event) {\r\n    event.preventDefault();\r\n\r\n    if (selectedGame === \"\") {\r\n      return setValidationError(\"Please select a game\");\r\n    }\r\n\r\n    if (skill === \"\") {\r\n      return setValidationError(\"Please choose a skill level\");\r\n    }\r\n\r\n    if (description === \"\") {\r\n      return setValidationError(\"Please provide a brief description\");\r\n    }\r\n\r\n    if (steam.length >= 1 && steam.length !== 8) {\r\n      setApiError(false);\r\n      return setValidationError(\"Steam ID requires 8 digits\");\r\n    }\r\n\r\n    if (apiError === true) {\r\n      return setValidationError(\"Unable to find Steam profile. Invalid Steam ID.\");\r\n    }\r\n\r\n    ref\r\n      .doc(`${id}`)\r\n      .update({\r\n        skill,\r\n        description,\r\n        selectedGame,\r\n        steam,\r\n        mmr,\r\n        persona,\r\n        avatar,\r\n      })\r\n      .then((res) => {\r\n        history.push(`/activities/${id}`);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  // FORM CHANGE HANDLERS\r\n  const handleDescriptionChange = (event) => {\r\n    setDescription(event.target.value);\r\n  };\r\n\r\n  const handleSkillChange = (event) => {\r\n    setSkill(event.target.value);\r\n  };\r\n\r\n  const handleGameChange = (event) => {\r\n    setSelectedGame(event.target.value);\r\n  };\r\n\r\n  const handleSteamChange = (event) => {\r\n    setSteam(event.target.value);\r\n    if (!event.target.value) {\r\n      setApiError(false);\r\n    }\r\n  };\r\n\r\n  // FUNCTION TO RENDER A GAME PICTURE BASED ON GAME SELECTED IN DROP DOWN MENU\r\n  function renderSelectedGame() {\r\n    if (selectedGame !== \"\" && games.length !== 0) {\r\n      const current = games.find((game) => game.title === selectedGame);\r\n      return <img className=\"create__form-image\" src={current.imageUrl} />;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"edit\">\r\n        <div className=\"edit__header-container\">\r\n          <h1 className=\"edit__header\">Edit Activity</h1>\r\n        </div>\r\n        <form className=\"edit__form\" onSubmit={editActivity}>\r\n          <div className=\"edit__form-container\">\r\n            <div className=\"activity__form-game\">\r\n              <label className=\"edit__form-label\" htmlFor=\"game\">\r\n                Game:\r\n              </label>\r\n              <div className=\"edit__form-game-line\">\r\n                {renderSelectedGame()}\r\n                <select className=\"edit__form-select\" value={selectedGame} onChange={handleGameChange} name=\"game\" id=\"game\">\r\n                  {games\r\n                    .filter((game) => (game.title.includes(\"All\") ? \"\" : game.title))\r\n                    .sort(function (a, b) {\r\n                      var titleA = a.title;\r\n                      var titleB = b.title;\r\n                      if (titleA < titleB) {\r\n                        return -1;\r\n                      }\r\n                      if (titleA > titleB) {\r\n                        return 1;\r\n                      }\r\n                      return 0;\r\n                    })\r\n                    .map((game) => (\r\n                      <option value={game.title} key={game.id}>\r\n                        {game.title}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            {selectedGame === \"Dota 2\" || steam ? (\r\n              <div className=\"edit__form-dota\">\r\n                <label className=\"edit__form-label\" htmlFor=\"steam\">\r\n                  Steam ID\r\n                </label>\r\n                <input\r\n                  className=\"edit__form-dota-input\"\r\n                  type=\"text\"\r\n                  id=\"steam\"\r\n                  name=\"steam\"\r\n                  value={steam}\r\n                  onChange={handleSteamChange}\r\n                  placeholder=\"Enter your Steam ID to display your MMR (not required)\"\r\n                />\r\n              </div>\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            {steamProfile()}\r\n            <label className=\"edit__form-label\" htmlFor=\"skill\">\r\n              Skill:\r\n            </label>\r\n            <select className=\"edit__form-select\" onChange={handleSkillChange} id=\"skill\" name=\"skill\">\r\n              <option value=\"Learning\">Learning</option>\r\n              <option value=\"Advanced\">Advanced</option>\r\n              <option value=\"Pro\">Pro</option>\r\n            </select>\r\n\r\n            <label className=\"edit__form-label\" htmlFor=\"description\">\r\n              Description:\r\n            </label>\r\n            <textarea className=\"edit__form-input\" type=\"text\" id=\"description\" name=\"description\" value={description} onChange={handleDescriptionChange} />\r\n          </div>\r\n          <div className=\"edit__form-error-container\">\r\n            <p className=\"edit__form-error\">{validationError}</p>\r\n          </div>\r\n          <div className=\"edit__button-container\">\r\n            <button className=\"edit__button-submit\" type=\"submit\">\r\n              SUBMIT\r\n            </button>\r\n            <a href=\"/\" className=\"edit__button-cancel\">\r\n              CANCEL\r\n            </a>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport fire from \"../../config/Fire\";\r\nimport ActivityList from \"../../components/ActivityList/ActivityList\";\r\nimport \"./MyActivities.scss\";\r\n\r\nfunction MyActivities({ user, username }) {\r\n  const [games, setGames] = useState([]);\r\n  const db = fire.firestore();\r\n  const [activities, setActivities] = useState([]);\r\n\r\n  // GET FUNCTION TO PULL THE FIELDS OF THE REQUESTED ACTIVITY\r\n  function getActivities() {\r\n    Promise.all([\r\n      db\r\n        .collection(\"activities\")\r\n        .where(\"hostId\", \"==\", user.uid)\r\n        .orderBy(\"timestamp\", \"desc\")\r\n        .get()\r\n        .then((activities) => {\r\n          return activities.docs.map((doc) => ({ ...doc.data(), timestamp: timeSince(doc.data().timestamp.seconds * 1000), id: doc.id }));\r\n        }),\r\n      db\r\n        .collection(\"activities\")\r\n        .where(user.uid, \"==\", true)\r\n        .get()\r\n        .then((activities) => {\r\n          return activities.docs.map((doc) => ({ ...doc.data(), timestamp: timeSince(doc.data().timestamp.seconds * 1000), id: doc.id }));\r\n        }),\r\n    ]).then((responses) => {\r\n      setActivities([...responses[0], ...responses[1]]);\r\n    });\r\n  }\r\n\r\n  // FUNCTION TO GET GAMES COLLECTION DATA\r\n  function getGames() {\r\n    db.collection(\"games\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        const items = querySnapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id }));\r\n        setGames(items);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      getActivities();\r\n      getGames();\r\n    }\r\n  }, []);\r\n\r\n  // FUNCTION TO CHANGE TIMESTAMP\r\n  const timeSince = (date) => {\r\n    let currentTime = Date.now();\r\n    let difference = currentTime - date;\r\n    let num = 0;\r\n\r\n    const minute = 60000;\r\n    const hour = 3600000;\r\n    const day = 86400000;\r\n    const week = 604800000;\r\n    const month = 2592000000;\r\n    const year = 31556952000;\r\n\r\n    const timeBeforeNow = \"moments ago\";\r\n\r\n    if (difference < minute) {\r\n      return timeBeforeNow;\r\n    } else if (difference < hour) {\r\n      num = Math.floor(difference / minute);\r\n      return num === 1 ? `${num} min ago` : `${num} mins ago`;\r\n    } else if (difference < day) {\r\n      num = Math.floor(difference / hour);\r\n      return num === 1 ? `${num} hour ago` : `${num} hours ago`;\r\n    } else if (difference < week) {\r\n      num = Math.floor(difference / day);\r\n      return num === 1 ? `${num} day ago` : `${num} days ago`;\r\n    } else if (difference < month) {\r\n      num = Math.floor(difference / week);\r\n      return num === 1 ? `${num} week ago` : `${num} weeks ago`;\r\n    } else if (difference < year) {\r\n      num = Math.floor(difference / month);\r\n      return num === 1 ? `${num} month ago` : `${num} months ago`;\r\n    } else if (difference > year) {\r\n      num = Math.floor(difference / year);\r\n      return num === 1 ? `${num} year ago` : `${num} years ago`;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"personal\">\r\n      <div className=\"personal__header-container\">\r\n        <h1 className=\"personal__header\">My Activities</h1>\r\n      </div>\r\n      <div className=\"personal__feed\">\r\n        {activities.map((activity) => (\r\n          <Link className=\"personal__activitylist-link\" to={`/activities/${activity.id}`}>\r\n            <ActivityList user={user} key={activity.id} activityList={activity} games={games} timeSince={timeSince} username={username} />\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyActivities;\r\n","import React, { useRef, useState } from \"react\";\r\nimport \"./Signup.scss\";\r\nimport fire from \"../../config/Fire\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Signup({ user }) {\r\n  const db = fire.firestore();\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const passwordConfirmRef = useRef();\r\n  const history = useHistory();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [validationError, setValidationError] = useState(\"\");\r\n\r\n  // FUNCTION FOR SIGN UP\r\n  function signupActions(event) {\r\n    event.preventDefault();\r\n\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setValidationError(\"Passwords do not match\");\r\n    }\r\n\r\n    if (emailRef.current.value === \"\") {\r\n      return setValidationError(\"Please enter a valid email\");\r\n    }\r\n\r\n    if (passwordRef.current.value.length < 6) {\r\n      return setValidationError(\"Password must be 6 characters or longer\");\r\n    }\r\n\r\n    if (username === \"\") {\r\n      return setValidationError(\"Please enter a valid username\");\r\n    }\r\n\r\n    fire\r\n      .auth()\r\n      .createUserWithEmailAndPassword(emailRef.current.value, passwordRef.current.value)\r\n      .then((res) => {\r\n        console.log(res, user, username);\r\n        db.collection(\"users\")\r\n          .doc(res.user.uid)\r\n          .set({ username: username })\r\n          .then(() => {\r\n            history.push(\"/\");\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        if (validationError === \"\") {\r\n          setValidationError(`${error.message}`);\r\n        }\r\n      });\r\n  }\r\n\r\n  // CHANGE HANDLER FOR USERNAME\r\n  const handleUsernameChange = (event) => {\r\n    setUsername(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <section className=\"signup\">\r\n      <form className=\"signup__form\">\r\n        <h1 className=\"signup__header\">Sign Up</h1>\r\n        <label className=\"signup__form-title\" htmlFor=\"email\">\r\n          Email\r\n        </label>\r\n        <input className=\"signup__form-input\" type=\"email\" id=\"email\" name=\"email\" placeholder=\"Enter your email here\" ref={emailRef} />\r\n        <label className=\"signup__form-title\" htmlFor=\"username\">\r\n          Username\r\n        </label>\r\n        <input className=\"signup__form-input\" type=\"text\" id=\"username\" name=\"username\" placeholder=\"Choose a username\" value={username} onChange={handleUsernameChange} />\r\n        <label className=\"signup__form-title\" htmlFor=\"password\">\r\n          Password\r\n        </label>\r\n        <input className=\"signup__form-input\" type=\"password\" id=\"password\" name=\"password\" placeholder=\"Choose a password\" ref={passwordRef} />\r\n        <label className=\"signup__form-title\" htmlFor=\"confirm\">\r\n          Password Confirmation\r\n        </label>\r\n        <input className=\"signup__form-input\" type=\"password\" id=\"confirm\" name=\"confirm\" placeholder=\"Re-enter your password\" ref={passwordConfirmRef} />\r\n        <div className=\"signup__form-error-container\">\r\n          <p className=\"signup__form-error\">{validationError}</p>\r\n        </div>\r\n        <button className=\"signup__form-signup\" type=\"submit\" onClick={signupActions}>\r\n          Sign Up\r\n        </button>\r\n      </form>\r\n      <div className=\"signup__redirect\">\r\n        <p>\r\n          Already have an account?{\" \"}\r\n          <a className=\"signup__login-link\" href=\"/\">\r\n            Log In Here.\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport fire from \"../../config/Fire\";\r\nimport \"./Header.scss\";\r\n\r\nexport default function Header({ username }) {\r\n  const history = useHistory();\r\n\r\n  // LOGOUT FUNCTION\r\n  function logout() {\r\n    fire.auth().signOut();\r\n    history.push(\"/login\");\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo-container\">\r\n        <Link to=\"/\">\r\n          <h2 className=\"header__logo\">GamerConnect</h2>\r\n        </Link>\r\n        <h3 className=\"header__username\">{username}</h3>\r\n      </div>\r\n      {username ? (\r\n        <>\r\n          <div className=\"header__hamburger\">\r\n            <nav role=\"navigation\" className=\"navigation\">\r\n              <div id=\"menuToggle\">\r\n                <input type=\"checkbox\" />\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <ul id=\"menu\">\r\n                  <Link to=\"/\">\r\n                    <li className=\"navigation__list-item\">Feed</li>\r\n                  </Link>\r\n                  <Link to=\"/myactivities\">\r\n                    <li className=\"navigation__list-item\">My Activities</li>\r\n                  </Link>\r\n                  <Link to={`/create`}>\r\n                    <li className=\"navigation__list-item\">Create</li>\r\n                  </Link>\r\n                  <li onClick={logout} className=\"navigation__list-item\">\r\n                    Logout\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </nav>\r\n          </div>{\" \"}\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\nimport fire from \"../config/Fire\";\nimport Home from \"../Pages/Home/Home\";\nimport CreateActivity from \"../Pages/CreateActivity/CreateActivity\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport Login from \"../Pages/Login/Login\";\nimport ViewActivity from \"../Pages/ViewActivity/ViewActivity\";\nimport EditActivity from \"../Pages/EditActivity/EditActivity\";\nimport MyActivities from \"../Pages/MyActivities/MyActivities\";\nimport Signup from \"../Pages/Signup/Signup\";\nimport Header from \"../components/Header/Header\";\n\nfunction App() {\n  const [user, setUser] = useState(undefined);\n  const [authListenerAdded, setAuthListenerAdded] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const db = fire.firestore();\n\n  // FUNCTION FOR AUTHENTICATION\n  const authListener = () => {\n    fire.auth().onAuthStateChanged((user) => {\n      if (user) {\n        console.log(user);\n        setUser(user);\n        localStorage.setItem(\"isAuthenticated\", \"true\");\n      } else {\n        setUser(null);\n        localStorage.removeItem(\"isAuthenticated\");\n        setUsername(\"\");\n      }\n    });\n\n    setAuthListenerAdded(true);\n  };\n\n  useEffect(() => {\n    if (!authListenerAdded) {\n      authListener();\n    }\n\n    if (user && username === \"\") {\n      db.doc(`users/${user.uid}`)\n        .get()\n        .then((documentSnapshot) => {\n          const data = documentSnapshot.data();\n\n          if (data && data.username) {\n            setUsername(documentSnapshot.data().username);\n          }\n        });\n    }\n  }, [user]);\n\n  // FUNCTION TO CHANGE ROUTES TO PROTECTED ROUTES\n  function PrivateRoute({ component: Component, ...rest }) {\n    return <Route {...rest} render={(props) => (localStorage.isAuthenticated ? <Component {...props} /> : <Redirect to=\"/login\" />)} />;\n  }\n\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n        <Header username={username} user={user} />\n        <Switch>\n          <Route path=\"/login\" exact component={(routerProps) => <Login {...routerProps} user={user} />} />\n          <Route path=\"/signup\" exact component={(routerProps) => <Signup {...routerProps} user={user} />} />\n          <PrivateRoute path=\"/\" exact component={(routerProps) => <Home {...routerProps} user={user} />} />\n          <PrivateRoute path=\"/myactivities\" exact component={(routerProps) => <MyActivities {...routerProps} user={user} username={username} />} />\n          <PrivateRoute path=\"/create\" exact component={(routerProps) => <CreateActivity {...routerProps} user={user} username={username} />} />\n          <PrivateRoute path=\"/activities/:id\" exact component={(routerProps) => <ViewActivity {...routerProps} user={user} username={username} />} />\n          <PrivateRoute path=\"/activities/:id/edit\" exact component={(routerProps) => <EditActivity {...routerProps} user={user} username={username} />} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}