(this["webpackJsonpryan-doubinin-gamerconnect"]=this["webpackJsonpryan-doubinin-gamerconnect"]||[]).push([[0],{58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},68:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a(3),i=a.n(s),n=a(44),r=a.n(n),o=a(6),l=a(45),d=a(5),j=a(20),m=(a(57),j.a.initializeApp({apiKey:"AIzaSyB7whLpHnMhGwQnnU1KyCBNgM_S6o-2H1I",authDomain:"gamerconnect-development.firebaseapp.com",projectId:"gamerconnect-development",storageBucket:"gamerconnect-development.appspot.com",messagingSenderId:"510029461850",appId:"1:510029461850:web:e1dc01ee66ccad75045b63"})),u=(a(58),a(13));a(59);function b(e){var t=e.activityList,a=e.games,i=e.username,n=t.id,r=t.selectedGame,o=t.host,l=t.skill,d=t.timestamp,j=t.description,m=t.mmr;function u(){if(a&&0!==a.length&&""!==r){var e=a.find((function(e){return e.title===r}));return Object(c.jsx)("img",{className:"activitylist__image",src:e.imageUrl})}}return Object(s.useEffect)((function(){u()}),[]),Object(c.jsxs)("div",{className:o!==i?"activitylist":"activitylist-two",children:[Object(c.jsxs)("div",{className:"activitylist__info-container",children:[Object(c.jsxs)("div",{className:"activitylist__user-date",children:[Object(c.jsx)("h3",{className:"activitylist__host",children:o}),Object(c.jsxs)("div",{className:"activitylist__info-secondary",children:[Object(c.jsx)("h4",{className:"activitylist__skill",children:l}),Object(c.jsx)("h4",{className:"activitylist__bullet",children:"\u2022"}),Object(c.jsx)("h4",{className:"activitylist__info",children:d})]})]}),Object(c.jsx)("div",{className:"activitylist__description-container",children:Object(c.jsx)("h4",{className:"activitylist__description",children:j})})]}),Object(c.jsxs)("div",{className:"activitylist__game-container",children:[u(),function(){if(m)return Object(c.jsx)("div",{className:"activitylist__dota",children:Object(c.jsxs)("h4",{className:"activitylist__dota-mmr",children:["Dota MMR: ",m]})})}()]})]},n)}a(60);function h(e){var t=e.gameList,a=e.clickGamesHandler,s=t.id,i=t.imageUrl,n=t.title;return Object(c.jsxs)("div",{className:"games__card",id:n,onClick:function(){a(n)},children:[Object(c.jsx)("img",{className:"games__image",src:i}),Object(c.jsx)("h2",{className:"games__title",children:n})]},s)}var O=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),a=t[0],i=t[1],n=Object(s.useState)([]),r=Object(d.a)(n,2),l=r[0],j=r[1],O=m.firestore(),f=Object(s.useState)(""),_=Object(d.a)(f,2),v=_[0],p=_[1],x=Object(s.useState)("All"),g=Object(d.a)(x,2),N=g[0],y=g[1];Object(s.useEffect)((function(){return O.collection("games").orderBy("title").get().then((function(e){var t=e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));i(t)})),"All"===N?O.collection("activities").orderBy("timestamp","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(o.a)(Object(o.a)({},e.data()),{},{timestamp:w(1e3*e.data().timestamp.seconds),id:e.id}))})),j(t)})):O.collection("activities").orderBy("timestamp","desc").where("selectedGame","==",N).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(o.a)(Object(o.a)({},e.data()),{},{timestamp:w(1e3*e.data().timestamp.seconds),id:e.id}))})),j(t)}))}),[N]);var S=function(e){y(e)},w=function(e){var t=Date.now()-e,a=0,c=36e5,s=864e5,i=6048e5,n=2592e6,r=31556952e3;return t<6e4?"moments ago":t<c?(a=Math.floor(t/6e4),"".concat(a,1===a?" min ago":" mins ago")):t<s?(a=Math.floor(t/c),"".concat(a,1===a?" hour ago":" hours ago")):t<i?(a=Math.floor(t/s),"".concat(a,1===a?" day ago":" days ago")):t<n?(a=Math.floor(t/i),"".concat(a,1===a?" week ago":" weeks ago")):t<r?(a=Math.floor(t/n),"".concat(a,1===a?" month ago":" months ago")):t>r?(a=Math.floor(t/r),"".concat(a,1===a?" year ago":" years ago")):void 0};return Object(c.jsxs)("div",{className:"home",children:[Object(c.jsxs)("div",{className:"home__utility",children:[Object(c.jsx)("input",{className:"home__search",type:"text",placeholder:"Search...",onChange:function(e){p(e.target.value)}}),Object(c.jsx)(u.b,{to:"/create",children:Object(c.jsx)("button",{className:"home__create-button",children:"+"})})]}),Object(c.jsx)("div",{className:"home__gamelist",children:a.filter((function(e){return""===v||e.title.toLowerCase().includes(v.toLowerCase())?e:void 0})).map((function(e){return Object(c.jsx)(h,{gameList:e,clickGamesHandler:S},e.id)}))}),Object(c.jsxs)("h1",{className:"home__posts-header",children:[N," - ",l.length," posts"]}),Object(c.jsx)("div",{className:"home__feed",children:l.map((function(e){return Object(c.jsx)(u.b,{className:"home__activitylist-link",to:"/activities/".concat(e.id),children:Object(c.jsx)(b,{activityList:e,timeSince:w,games:a},e.id)})}))})]})},f=a(11),_=(a(68),a(27)),v=a.n(_);function p(e){var t=e.user,a=e.username,i=m.firestore(),n=Object(f.g)(),r=Object(s.useState)([]),l=Object(d.a)(r,2),u=l[0],b=l[1],h=Object(s.useState)(""),O=Object(d.a)(h,2),_=O[0],p=O[1],x=Object(s.useState)(""),g=Object(d.a)(x,2),N=g[0],y=g[1],S=Object(s.useState)(""),w=Object(d.a)(S,2),k=w[0],M=w[1],I=j.a.firestore.FieldValue.serverTimestamp(),C=Object(s.useState)(""),D=Object(d.a)(C,2),E=D[0],A=D[1],F=Object(s.useState)(""),L=Object(d.a)(F,2),P=L[0],U=L[1],G=Object(s.useState)(""),R=Object(d.a)(G,2),B=R[0],T=R[1],H=Object(s.useState)(""),q=Object(d.a)(H,2),J=q[0],V=q[1],z=Object(s.useState)(""),K=Object(d.a)(z,2),W=K[0],Q=K[1],X=Object(s.useState)(""),Y=Object(d.a)(X,2),Z=Y[0],$=Y[1],ee=Object(s.useState)(!1),te=Object(d.a)(ee,2),ae=te[0],ce=te[1];Object(s.useEffect)((function(){8===W.length?v.a.get("https://api.opendota.com/api/players/".concat(W,"/")).then((function(e){U(e.data.solo_competitive_rank),T(e.data.profile.avatarmedium),V(e.data.profile.personaname),ce(!1)})).catch((function(e){ce(!0),$("Unable to find Steam profile. Invalid Steam ID.")})):(U(""),T(""),V("")),0===u.length&&i.collection("games").get().then((function(e){var t=e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));b(t)}))}),[W]);return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"create",children:[Object(c.jsx)("div",{className:"create__header-container",children:Object(c.jsx)("h1",{className:"create__header",children:"Create Activity"})}),Object(c.jsxs)("form",{className:"create__form",onSubmit:function(e){return e.preventDefault(),""===_?A("Please select a game"):""===N?A("Please choose a skill level"):""===k?A("Please provide a brief description"):W.length>=1&&8!==W.length?(ce(!1),A("Steam ID requires 8 digits")):!0===ae?A("Unable to find Steam profile. Invalid Steam ID."):void i.collection("activities").add({skill:N,description:k,timestamp:I,selectedGame:_,host:a,hostId:t.uid,mmr:P,avatar:B,persona:J,steam:W}).then((function(e){n.push("/")})).catch((function(e){console.log(e)}))},children:[Object(c.jsxs)("div",{className:"create__form-container",children:[Object(c.jsx)("label",{className:"create__form-label",htmlFor:"game",children:"Game"}),Object(c.jsxs)("div",{className:"create__form-game-line",children:[function(){if(""!==_){var e=u.find((function(e){return e.title===_}));return Object(c.jsx)("img",{className:"create__form-image",src:e.imageUrl})}}(),Object(c.jsxs)("select",{className:"create__form-select",value:_,onChange:function(e){return p(e.target.value)},name:"game",id:"game",children:[Object(c.jsx)("option",{value:"",children:"Please select..."}),u.filter((function(e){return e.title.includes("All")?"":e.title})).sort((function(e,t){var a=e.title,c=t.title;return a<c?-1:a>c?1:0})).map((function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("option",{value:e.title,children:e.title},e.id)})}))]})]}),"Dota 2"===_?Object(c.jsxs)("div",{className:"create__form-dota",children:[Object(c.jsx)("label",{className:"create__form-label",htmlFor:"steam",children:"Steam ID"}),Object(c.jsx)("input",{className:"create__form-dota-input",type:"text",id:"steam",name:"steam",onChange:function(e){Q(e.target.value),e.target.value||ce(!1)},placeholder:"Enter your Steam ID to display your MMR (not required)"}),Object(c.jsx)("p",{className:"create__form-steam-error",children:Z})]}):Object(c.jsx)("div",{}),function(){if(P)return Object(c.jsxs)("div",{className:"create__form-steam",children:[Object(c.jsx)("img",{classname:"create__form-steam-avatar",src:B,alt:"steam avatar"}),Object(c.jsxs)("div",{className:"create__form-steam-info",children:[Object(c.jsxs)("p",{className:"create__form-steam-username",children:["Steam Username: ",J]}),Object(c.jsxs)("p",{className:"create__form-steam-mmr",children:["Dota MMR: ",P]})]})]})}(),Object(c.jsx)("label",{className:"create__form-label",htmlFor:"skill",children:"Skill"}),Object(c.jsxs)("select",{className:"create__form-select",onChange:function(e){return y(e.target.value)},id:"skill",name:"skill",children:[Object(c.jsx)("option",{value:"",children:"Please select..."}),Object(c.jsx)("option",{value:"Learning",children:"Learning"}),Object(c.jsx)("option",{value:"Advanced",children:"Advanced"}),Object(c.jsx)("option",{value:"Pro",children:"Pro"})]}),Object(c.jsx)("label",{className:"create__form-label",htmlFor:"description",children:"Description"}),Object(c.jsx)("textarea",{className:"create__form-input",type:"text",id:"description",name:"description",onChange:function(e){return M(e.target.value)},placeholder:"Enter a description here..."})]}),Object(c.jsx)("div",{className:"create__form-error-container",children:Object(c.jsx)("p",{className:"create__form-error",children:E})}),Object(c.jsxs)("div",{className:"create__button-container",children:[Object(c.jsx)("button",{className:"create__button-submit",type:"submit",children:"SUBMIT"}),Object(c.jsx)("a",{href:"/",className:"create__button-cancel",children:"CANCEL"})]})]})]})})}var x=a(33),g=a.n(x),N=a(48);a(87);var y=function(){var e=Object(s.useRef)(),t=Object(s.useRef)(),a=Object(f.g)(),i=Object(s.useState)(""),n=Object(d.a)(i,2),r=n[0],o=n[1];function l(){return(l=Object(N.a)(g.a.mark((function c(s){return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s.preventDefault(),c.prev=1,c.next=4,m.auth().signInWithEmailAndPassword(e.current.value,t.current.value);case 4:a.push("/"),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(1),o("Failed to log in");case 10:case"end":return c.stop()}}),c,null,[[1,7]])})))).apply(this,arguments)}return Object(c.jsxs)("section",{className:"login",children:[Object(c.jsxs)("form",{className:"login__form",children:[Object(c.jsx)("h1",{className:"login__header",children:"Log In"}),Object(c.jsx)("label",{className:"login__form-title",htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{className:"login__form-input",type:"email",id:"email",name:"email",placeholder:"Enter your email",ref:e}),Object(c.jsx)("label",{className:"login__form-title",htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{className:"login__form-input",type:"password",id:"password",name:"password",placeholder:"Enter your password",ref:t}),Object(c.jsx)("div",{className:"login__form-error-container",children:Object(c.jsx)("p",{className:"login__form-error",children:r})}),Object(c.jsx)("button",{className:"login__form-submit",type:"submit",onClick:function(e){return l.apply(this,arguments)},children:"Log In"})]}),Object(c.jsx)("div",{className:"login__redirect",children:Object(c.jsxs)("p",{children:["Don't have an account?"," ",Object(c.jsx)("a",{className:"login__signup-link",href:"/signup",children:"Sign Up Here."})]})})]})},S=a(23);a(88);function w(e){var t=e.user,a=e.username,i=Object(f.h)().id,n=m.firestore(),r=Object(s.useState)([]),l=Object(d.a)(r,2),b=l[0],h=l[1],O=Object(s.useState)([]),_=Object(d.a)(O,2),v=_[0],p=_[1],x=Object(s.useState)(""),g=Object(d.a)(x,2),N=g[0],y=g[1],w=Object(s.useState)(!1),k=Object(d.a)(w,2),M=k[0],I=k[1],C=Object(s.useState)(!1),D=Object(d.a)(C,2),E=D[0],A=D[1],F=Object(s.useState)([]),L=Object(d.a)(F,2),P=L[0],U=L[1],G=Object(f.g)(),R=function(e){var t=Date.now()-e,a=0,c=36e5,s=864e5,i=6048e5,n=2592e6,r=31556952e3;return t<6e4?"moments ago":t<c?(a=Math.floor(t/6e4),"".concat(a,1===a?" min ago":" mins ago")):t<s?(a=Math.floor(t/c),"".concat(a,1===a?" hour ago":" hours ago")):t<i?(a=Math.floor(t/s),"".concat(a,1===a?" day ago":" days ago")):t<n?(a=Math.floor(t/i),"".concat(a,1===a?" week ago":" weeks ago")):t<r?(a=Math.floor(t/n),"".concat(a,1===a?" month ago":" months ago")):t>r?(a=Math.floor(t/r),"".concat(a,1===a?" year ago":" years ago")):void 0};Object(s.useEffect)((function(){n.collection("games").get().then((function(e){var t=e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));U(t)}))}),[]);Object(s.useEffect)((function(){if(t){var e=n.doc("activities/".concat(i)).collection("messages").orderBy("createdAt").limit(100).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));p(t)})),a=n.doc("activities/".concat(i)).onSnapshot((function(e){e.exists&&(h(Object(o.a)(Object(o.a)({},e.data()),{},{timestamp:R(1e3*e.data().timestamp.seconds)})),I(!!e.data()[t.uid]))}));return function(){e(),a()}}}),[]);function B(){if(P&&0!==P.length&&0!==b.length&&""!==b.selectedGame){var e=P.find((function(e){return e.title===b.selectedGame}));return Object(c.jsx)("img",{className:"activitylist__image",src:e.imageUrl})}}return Object(s.useEffect)((function(){B()}),[]),t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"view",children:[Object(c.jsx)("div",{className:"view__header-container",children:Object(c.jsx)("h1",{className:"view__header",children:"View Activity"})}),Object(c.jsxs)("div",{className:"view__activitylist",children:[Object(c.jsxs)("div",{className:"view__info-container",children:[Object(c.jsxs)("div",{className:"view__user-date",children:[Object(c.jsx)("h3",{className:"view__host",children:b.host}),Object(c.jsxs)("div",{className:"view__info-secondary",children:[Object(c.jsx)("h5",{className:"view__skill",children:b.skill}),Object(c.jsx)("h4",{className:"view__bullet",children:"\u2022"}),Object(c.jsx)("h5",{className:"view__info",children:b.timestamp})]})]}),Object(c.jsx)("div",{className:"view__description-container",children:Object(c.jsx)("h4",{className:"view__description",children:b.description})})]}),Object(c.jsxs)("div",{className:"view__game-container",children:[B(),function(){if(b.mmr)return Object(c.jsx)("div",{className:"view__dota",children:Object(c.jsxs)("h4",{className:"view__dota-mmr",children:["Dota MMR: ",b.mmr]})})}()]})]},i),t.uid===b.hostId?void 0:M?Object(c.jsxs)("div",{children:[a," has joined the lobby."]}):""]}),Object(c.jsxs)("div",{className:"view__button-container",children:[b.hostId===t.uid?Object(c.jsx)(u.b,{to:"/activities/".concat(i,"/edit"),children:Object(c.jsx)("button",{className:"view__button-edit",children:"EDIT"})}):"",b.hostId===t.uid?Object(c.jsx)("button",{className:"view__button-delete",onClick:function(){n.collection("activities").doc(i).delete().then((function(e){G.push("/")})).catch((function(e){console.log(e)}))},children:"DELETE"}):"",t.uid===b.hostId?void 0:!0!==b[t.uid]?Object(c.jsx)("button",{className:"view__button-join",onClick:function(){return A(!0),void n.collection("activities").doc(i).update(Object(S.a)({},t.uid,!0)).then((function(e){A(!1)})).catch((function(e){console.log(e)}))},disabled:E,children:"Join Lobby"}):Object(c.jsx)("button",{className:"view__button-leave",onClick:function(){return A(!0),void n.collection("activities").doc(i).update(Object(S.a)({},t.uid,!1)).then((function(e){A(!1)})).catch((function(e){console.log(e)}))},disabled:E,children:"Leave Lobby"})]}),b.hostId===t.uid||b[t.uid]?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"view__header-container",children:Object(c.jsx)("h2",{className:"view__header view__header-conversation",children:"Conversation"})}),Object(c.jsxs)("div",{className:"view__chat",children:[Object(c.jsx)("ul",{className:"view__chat-boxes",children:v.map((function(e){return Object(c.jsxs)("li",{className:e.username===a?"view__sent":"view__received",children:[e.username,": ",e.text]},e.id)}))}),Object(c.jsxs)("form",{className:"view__form",onSubmit:function(e){e.preventDefault(),n.doc("activities/".concat(i)).collection("messages").add({text:N,createdAt:j.a.firestore.FieldValue.serverTimestamp(),username:a}),y("")},children:[Object(c.jsx)("input",{className:"view__form-input",type:"text",value:N,onChange:function(e){y(e.target.value)},placeholder:"Chat with the lobby here..."}),Object(c.jsx)("button",{className:"view__form-send",type:"submit",disabled:!N,children:"Send"})]})]})]}):""]}):Object(c.jsx)("div",{})}a(89);function k(){var e=Object(f.h)().id,t=m.firestore(),a=Object(s.useState)(void 0),i=Object(d.a)(a,2),n=i[0],r=i[1],l=Object(s.useState)([]),u=Object(d.a)(l,2),b=u[0],h=u[1],O=Object(s.useState)(""),_=Object(d.a)(O,2),p=_[0],x=_[1],g=Object(s.useState)(""),N=Object(d.a)(g,2),y=N[0],S=N[1],w=Object(s.useState)(""),k=Object(d.a)(w,2),M=k[0],I=k[1],C=Object(s.useState)(""),D=Object(d.a)(C,2),E=D[0],A=D[1],F=Object(s.useState)(""),L=Object(d.a)(F,2),P=L[0],U=L[1],G=Object(s.useState)(""),R=Object(d.a)(G,2),B=R[0],T=R[1],H=Object(s.useState)(""),q=Object(d.a)(H,2),J=q[0],V=q[1],z=Object(s.useState)(""),K=Object(d.a)(z,2),W=K[0],Q=K[1],X=Object(s.useState)(""),Y=Object(d.a)(X,2),Z=(Y[0],Y[1]),$=Object(s.useState)(!1),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ce=j.a.firestore().collection("activities"),se=Object(f.g)();Object(s.useEffect)((function(){W&&8===W.length?v.a.get("https://api.opendota.com/api/players/".concat(W,"/")).then((function(e){U(e.data.solo_competitive_rank),T(e.data.profile.avatarmedium),V(e.data.profile.personaname),ae(!1)})).catch((function(e){Z("Unable to find Steam profile. Invalid Steam ID."),ae(!0)})):(U(""),T(""),V("")),n||t.doc("activities/".concat(e)).get().then((function(e){r(Object(o.a)(Object(o.a)({},e.data()),{},{timestamp:e.data().timestamp.toDate()})),I(e.data().description),S(e.data().skill),x(e.data().selectedGame),U(e.data().mmr),Q(e.data().steam)})).catch((function(e){console.log("Error getting documents: ".concat(e))}))}),[W]),Object(s.useEffect)((function(){0===b.length&&t.collection("games").get().then((function(e){var t=e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));h(t)}))}),[]);return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"edit",children:[Object(c.jsx)("div",{className:"edit__header-container",children:Object(c.jsx)("h1",{className:"edit__header",children:"Edit Activity"})}),Object(c.jsxs)("form",{className:"edit__form",onSubmit:function(t){return t.preventDefault(),""===p?A("Please select a game"):""===y?A("Please choose a skill level"):""===M?A("Please provide a brief description"):W.length>=1&&8!==W.length?(ae(!1),A("Steam ID requires 8 digits")):!0===te?A("Unable to find Steam profile. Invalid Steam ID."):void ce.doc("".concat(e)).update({skill:y,description:M,selectedGame:p,steam:W,mmr:P,persona:J,avatar:B}).then((function(t){se.push("/activities/".concat(e))})).catch((function(e){console.log(e)}))},children:[Object(c.jsxs)("div",{className:"edit__form-container",children:[Object(c.jsxs)("div",{className:"activity__form-game",children:[Object(c.jsx)("label",{className:"edit__form-label",htmlFor:"game",children:"Game:"}),Object(c.jsxs)("div",{className:"edit__form-game-line",children:[function(){if(""!==p&&0!==b.length){var e=b.find((function(e){return e.title===p}));return Object(c.jsx)("img",{className:"create__form-image",src:e.imageUrl})}}(),Object(c.jsx)("select",{className:"edit__form-select",value:p,onChange:function(e){x(e.target.value)},name:"game",id:"game",children:b.filter((function(e){return e.title.includes("All")?"":e.title})).sort((function(e,t){var a=e.title,c=t.title;return a<c?-1:a>c?1:0})).map((function(e){return Object(c.jsx)("option",{value:e.title,children:e.title},e.id)}))})]})]}),"Dota 2"===p||W?Object(c.jsxs)("div",{className:"edit__form-dota",children:[Object(c.jsx)("label",{className:"edit__form-label",htmlFor:"steam",children:"Steam ID"}),Object(c.jsx)("input",{className:"edit__form-dota-input",type:"text",id:"steam",name:"steam",value:W,onChange:function(e){Q(e.target.value),e.target.value||ae(!1)},placeholder:"Enter your Steam ID to display your MMR (not required)"})]}):Object(c.jsx)("div",{}),function(){if(W&&"Dota 2"===p)return Object(c.jsxs)("div",{className:"edit__form-steam",children:[Object(c.jsx)("img",{"edit__form-steam-avatar":!0,src:B}),Object(c.jsxs)("div",{className:"edit__form-steam-info",children:[Object(c.jsxs)("p",{className:"edit__form-steam-username",children:["Steam Username: ",J]}),Object(c.jsxs)("p",{className:"edit__form-steam-mmr",children:["Dota MMR: ",P]})]})]})}(),Object(c.jsx)("label",{className:"edit__form-label",htmlFor:"skill",children:"Skill:"}),Object(c.jsxs)("select",{className:"edit__form-select",onChange:function(e){S(e.target.value)},id:"skill",name:"skill",children:[Object(c.jsx)("option",{value:"Learning",children:"Learning"}),Object(c.jsx)("option",{value:"Advanced",children:"Advanced"}),Object(c.jsx)("option",{value:"Pro",children:"Pro"})]}),Object(c.jsx)("label",{className:"edit__form-label",htmlFor:"description",children:"Description:"}),Object(c.jsx)("textarea",{className:"edit__form-input",type:"text",id:"description",name:"description",value:M,onChange:function(e){I(e.target.value)}})]}),Object(c.jsx)("div",{className:"edit__form-error-container",children:Object(c.jsx)("p",{className:"edit__form-error",children:E})}),Object(c.jsxs)("div",{className:"edit__button-container",children:[Object(c.jsx)("button",{className:"edit__button-submit",type:"submit",children:"SUBMIT"}),Object(c.jsx)("a",{href:"/",className:"edit__button-cancel",children:"CANCEL"})]})]})]})})}var M=a(34);a(90);var I=function(e){var t=e.user,a=e.username,i=Object(s.useState)([]),n=Object(d.a)(i,2),r=n[0],l=n[1],j=m.firestore(),h=Object(s.useState)([]),O=Object(d.a)(h,2),f=O[0],_=O[1];Object(s.useEffect)((function(){t&&(Promise.all([j.collection("activities").where("hostId","==",t.uid).orderBy("timestamp","desc").get().then((function(e){return e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{timestamp:v(1e3*e.data().timestamp.seconds),id:e.id})}))})),j.collection("activities").where(t.uid,"==",!0).get().then((function(e){return e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{timestamp:v(1e3*e.data().timestamp.seconds),id:e.id})}))}))]).then((function(e){_([].concat(Object(M.a)(e[0]),Object(M.a)(e[1])))})),j.collection("games").get().then((function(e){var t=e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));l(t)})))}),[]);var v=function(e){var t=Date.now()-e,a=0,c=36e5,s=864e5,i=6048e5,n=2592e6,r=31556952e3;return t<6e4?"moments ago":t<c?(a=Math.floor(t/6e4),"".concat(a,1===a?" min ago":" mins ago")):t<s?(a=Math.floor(t/c),"".concat(a,1===a?" hour ago":" hours ago")):t<i?(a=Math.floor(t/s),"".concat(a,1===a?" day ago":" days ago")):t<n?(a=Math.floor(t/i),"".concat(a,1===a?" week ago":" weeks ago")):t<r?(a=Math.floor(t/n),"".concat(a,1===a?" month ago":" months ago")):t>r?(a=Math.floor(t/r),"".concat(a,1===a?" year ago":" years ago")):void 0};return Object(c.jsxs)("div",{className:"personal",children:[Object(c.jsx)("div",{className:"personal__header-container",children:Object(c.jsx)("h1",{className:"personal__header",children:"My Activities"})}),Object(c.jsx)("div",{className:"personal__feed",children:f.map((function(e){return Object(c.jsx)(u.b,{className:"personal__activitylist-link",to:"/activities/".concat(e.id),children:Object(c.jsx)(b,{user:t,activityList:e,games:r,timeSince:v,username:a},e.id)})}))})]})};a(91);var C=function(e){var t=e.user,a=m.firestore(),i=Object(s.useRef)(),n=Object(s.useRef)(),r=Object(s.useRef)(),o=Object(f.g)(),l=Object(s.useState)(""),j=Object(d.a)(l,2),u=j[0],b=j[1],h=Object(s.useState)(""),O=Object(d.a)(h,2),_=O[0],v=O[1];return Object(c.jsxs)("section",{className:"signup",children:[Object(c.jsxs)("form",{className:"signup__form",children:[Object(c.jsx)("h1",{className:"signup__header",children:"Sign Up"}),Object(c.jsx)("label",{className:"signup__form-title",htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{className:"signup__form-input",type:"email",id:"email",name:"email",placeholder:"Enter your email here",ref:i}),Object(c.jsx)("label",{className:"signup__form-title",htmlFor:"username",children:"Username"}),Object(c.jsx)("input",{className:"signup__form-input",type:"text",id:"username",name:"username",placeholder:"Choose a username",value:u,onChange:function(e){b(e.target.value)}}),Object(c.jsx)("label",{className:"signup__form-title",htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{className:"signup__form-input",type:"password",id:"password",name:"password",placeholder:"Choose a password",ref:n}),Object(c.jsx)("label",{className:"signup__form-title",htmlFor:"confirm",children:"Password Confirmation"}),Object(c.jsx)("input",{className:"signup__form-input",type:"password",id:"confirm",name:"confirm",placeholder:"Re-enter your password",ref:r}),Object(c.jsx)("div",{className:"signup__form-error-container",children:Object(c.jsx)("p",{className:"signup__form-error",children:_})}),Object(c.jsx)("button",{className:"signup__form-signup",type:"submit",onClick:function(e){return e.preventDefault(),n.current.value!==r.current.value?v("Passwords do not match"):""===i.current.value?v("Please enter a valid email"):n.current.value.length<6?v("Password must be 6 characters or longer"):""===u?v("Please enter a valid username"):void m.auth().createUserWithEmailAndPassword(i.current.value,n.current.value).then((function(e){console.log(e,t,u),a.collection("users").doc(e.user.uid).set({username:u}).then((function(){o.push("/")}))})).catch((function(e){""===_&&v("".concat(e.message))}))},children:"Sign Up"})]}),Object(c.jsx)("div",{className:"signup__redirect",children:Object(c.jsxs)("p",{children:["Already have an account?"," ",Object(c.jsx)("a",{className:"signup__login-link",href:"/",children:"Log In Here."})]})})]})};a(92);function D(e){var t=e.username,a=Object(f.g)();return Object(c.jsxs)("header",{className:"header",children:[Object(c.jsxs)("div",{className:"header__logo-container",children:[Object(c.jsx)(u.b,{to:"/",children:Object(c.jsx)("h2",{className:"header__logo",children:"GamerConnect"})}),Object(c.jsx)("h3",{className:"header__username",children:t})]}),t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"header__hamburger",children:Object(c.jsx)("nav",{role:"navigation",className:"navigation",children:Object(c.jsxs)("div",{id:"menuToggle",children:[Object(c.jsx)("input",{type:"checkbox"}),Object(c.jsx)("span",{}),Object(c.jsx)("span",{}),Object(c.jsx)("span",{}),Object(c.jsxs)("ul",{id:"menu",children:[Object(c.jsx)(u.b,{to:"/",children:Object(c.jsx)("li",{className:"navigation__list-item",children:"Feed"})}),Object(c.jsx)(u.b,{to:"/myactivities",children:Object(c.jsx)("li",{className:"navigation__list-item",children:"My Activities"})}),Object(c.jsx)(u.b,{to:"/create",children:Object(c.jsx)("li",{className:"navigation__list-item",children:"Create"})}),Object(c.jsx)("li",{onClick:function(){m.auth().signOut(),a.push("/login")},className:"navigation__list-item",children:"Logout"})]})]})})})," "]}):""]})}var E=function(){var e=Object(s.useState)(void 0),t=Object(d.a)(e,2),a=t[0],i=t[1],n=Object(s.useState)(!1),r=Object(d.a)(n,2),j=r[0],b=r[1],h=Object(s.useState)(""),_=Object(d.a)(h,2),v=_[0],x=_[1],g=m.firestore();function N(e){var t=e.component,a=Object(l.a)(e,["component"]);return Object(c.jsx)(f.b,Object(o.a)(Object(o.a)({},a),{},{render:function(e){return localStorage.isAuthenticated?Object(c.jsx)(t,Object(o.a)({},e)):Object(c.jsx)(f.a,{to:"/login"})}}))}return Object(s.useEffect)((function(){j||(m.auth().onAuthStateChanged((function(e){e?(console.log(e),i(e),localStorage.setItem("isAuthenticated","true")):(i(null),localStorage.removeItem("isAuthenticated"),x(""))})),b(!0)),a&&""===v&&g.doc("users/".concat(a.uid)).get().then((function(e){var t=e.data();t&&t.username&&x(e.data().username)}))}),[a]),Object(c.jsx)(u.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(D,{username:v,user:a}),Object(c.jsxs)(f.d,{children:[Object(c.jsx)(f.b,{path:"/login",exact:!0,component:function(e){return Object(c.jsx)(y,Object(o.a)(Object(o.a)({},e),{},{user:a}))}}),Object(c.jsx)(f.b,{path:"/signup",exact:!0,component:function(e){return Object(c.jsx)(C,Object(o.a)(Object(o.a)({},e),{},{user:a}))}}),Object(c.jsx)(N,{path:"/",exact:!0,component:function(e){return Object(c.jsx)(O,Object(o.a)(Object(o.a)({},e),{},{user:a}))}}),Object(c.jsx)(N,{path:"/myactivities",exact:!0,component:function(e){return Object(c.jsx)(I,Object(o.a)(Object(o.a)({},e),{},{user:a,username:v}))}}),Object(c.jsx)(N,{path:"/create",exact:!0,component:function(e){return Object(c.jsx)(p,Object(o.a)(Object(o.a)({},e),{},{user:a,username:v}))}}),Object(c.jsx)(N,{path:"/activities/:id",exact:!0,component:function(e){return Object(c.jsx)(w,Object(o.a)(Object(o.a)({},e),{},{user:a,username:v}))}}),Object(c.jsx)(N,{path:"/activities/:id/edit",exact:!0,component:function(e){return Object(c.jsx)(k,Object(o.a)(Object(o.a)({},e),{},{user:a,username:v}))}})]})]})})};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.eee664f9.chunk.js.map